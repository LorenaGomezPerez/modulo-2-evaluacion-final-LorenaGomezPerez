"use strict";const cocktailFinder=document.querySelector(".js-cocktailFinder"),searchButton=document.querySelector(".js-searchButton"),drinksList=document.querySelector(".js-cocktailList"),favDrinksList=document.querySelector(".js-favCocktailsList"),resetButton=document.querySelector(".js-resetButton");let cocktailList=[],userFavCocktails=[];function getApiCocktail(){const t=cocktailFinder.value;fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+t).then(t=>t.json()).then(t=>{cocktailList=t.drinks,paintCocktail()})}function paintCocktail(){let t="";for(const i of cocktailList){const c="https://via.placeholder.com/210x295/ffffff/666666/?text=image";t+=`<li class="cocktail-list js-liDrink" id=${i.idDrink}>`,t+=`<h2 class="name-cocktail">${i.strDrink}</h2>`,""===i.strDrinkThumb?t+=`<img src="${c}"`:t+=`<img class="image-cocktail" src= "${i.strDrinkThumb}"/>`,t+="</li>"}drinksList.innerHTML=t,favCocktails()}function favCocktails(){const t=document.querySelectorAll(".js-liDrink");for(const i of t)i.addEventListener("click",handleClickSelectedDrink)}function handleClickButton(t){t.preventDefault(),getApiCocktail()}function handleClickSelectedDrink(t){const i=t.currentTarget.id,c=cocktailList.find(t=>t.idDrink===i);-1===userFavCocktails.findIndex(t=>t.idDrink===i)&&userFavCocktails.push(c),paintCocktail(),paintFavDrinks(),drinkInLocalStorage()}function paintFavDrinks(){let t="";for(const i of userFavCocktails){let c="";c=-1!==userFavCocktails.findIndex(t=>t.idDrink===i.idDrink)?"class-drink":"",t+=`<li class="cocktail-list js-liDrink ${c}" id=${i.idDrink}>`,t+=`<h2 class="name-cocktail">${i.strDrink}</h2>`,t+=`<img class="image-cocktail" src="${i.strDrinkThumb}"/>`,t+="</li>"}favDrinksList.innerHTML=t}function handleClickReset(t){t.preventDefault(),drinksList.innerHTML="",cocktailFinder.value=""}function drinkFromLocalStorage(){const t=localStorage.getItem("fav");if(null!==t){const i=JSON.parse(t);userFavCocktails=i,paintFavDrinks()}}function drinkInLocalStorage(){const t=JSON.stringify(userFavCocktails);localStorage.setItem("fav",t)}drinkFromLocalStorage(),searchButton.addEventListener("click",handleClickButton),resetButton.addEventListener("click",handleClickReset);